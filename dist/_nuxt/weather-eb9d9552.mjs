import{y as b,r as l,z as g,o as c,a as d,b as e,w as v,v as k,R as B,e as y,t as o,f as S,c as W,u as C}from"./entry-2c87ec4d.mjs";const I=e("div",{class:"component-header"},[e("h2",null,"Weather app")],-1),K={class:"px-4 py-5"},$={class:"flex flex-col text-white"},j={class:"flex items-end justify-between mb-5"},D={class:"flex flex-col text-center w-3/6 px-2"},H=e("label",{class:"mb-1"},"City",-1),M=["onKeyup"],N={class:"flex flex-col mb-5 font-bold justify-center text-center p-4 w-full"},R={class:"text-center"},T={key:0,class:"text-4xl"},V={key:1,class:"text-4xl"},q={__name:"WeatherApp",setup(w){const i=b(),s=l(""),_=l({}),a=l({}),u=l({}),h=l(!0),r=l(!1);let f="",x="";g(()=>{f=i.apiSecret,x=i.apiBase,localStorage.getItem("city")&&(s.value=localStorage.getItem("city"),p())});function p(){const m=`${x}?q=${s.value}&appid=${f}&units=metric`;fetch(m).then(t=>t.json()).then(t=>{_.value=t==null?void 0:t.weather[0],a.value=t.main,u.value=t.sys;const n=Date.now();n>u.value.sunrise*1e3&&n<u.value.sunset*1e3&&(h.value=!1),r.value=!0,localStorage.setItem("city",s.value)}).catch(t=>console.error(t))}return(m,t)=>(c(),d("div",null,[I,e("div",K,[e("div",$,[e("div",j,[e("div",D,[H,v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.value=n),type:"text",onKeyup:B(p,["enter"])},null,40,M),[[k,s.value]])]),e("div",{class:"flex flex-col text-center w-3/6 px-2"},[e("button",{onClick:p,class:"btn btn-red"}," Check weather ")])]),v(e("div",N,[e("div",null," Weather: "+o(_.value.description),1),e("div",null," Temperature: "+o(a.value.temp),1),e("div",null," Humidity: "+o(a.value.humidity),1),e("div",null," Pressure: "+o(a.value.pressure),1)],512),[[y,r.value===!0]]),v(e("div",R,[h.value?(c(),d("span",T," \u{1F315} ")):(c(),d("span",V," \u{1F31E} "))],512),[[y,r.value===!0]])])])]))}},A={__name:"weather",setup(w){return S({title:"Weather app"}),(i,s)=>(c(),W(C(q)))}};export{A as default};
