import{_ as g}from"./ComponentContainer.ad68c991.js";import{N as k,i as a,O as C,o as i,b as d,e as t,j as v,v as B,V as S,k as y,t as c,F as N,c as V,w,f as W,l as j,u as I}from"./entry.cc585e17.js";import{u as K}from"./composables.c8ca72aa.js";const $={class:"flex items-end justify-between mb-5"},D={class:"flex flex-col text-center w-3/6 px-2"},T=t("label",{class:"mb-1"},"City",-1),F=["onKeyup"],H={class:"flex flex-col mb-5 font-bold justify-center text-center p-4 w-full"},M={class:"text-center"},q={key:0,class:"text-4xl"},A={key:1,class:"text-4xl"},E={__name:"WeatherApp",setup(b){const r=k(),s=a(""),n=a({}),o=a({}),u=a({}),m=a(!0),p=a(!1);let h="",f="";C(()=>{h=r.apiSecret,f=r.apiBase,localStorage.getItem("city")&&(s.value=localStorage.getItem("city"),_())});function _(){const x=`${f}?q=${s.value}&appid=${h}&units=metric`;fetch(x).then(e=>e.json()).then(e=>{n.value=e==null?void 0:e.weather[0],o.value=e.main,u.value=e.sys;const l=Date.now();l>u.value.sunrise*1e3&&l<u.value.sunset*1e3&&(m.value=!1),p.value=!0,localStorage.setItem("city",s.value)}).catch(e=>console.error(e))}return(x,e)=>(i(),d(N,null,[t("div",$,[t("div",D,[T,v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),type:"text",onKeyup:S(_,["enter"])},null,40,F),[[B,s.value]])]),t("div",{class:"flex flex-col text-center w-3/6 px-2"},[t("button",{onClick:_,class:"btn btn-red"}," Check weather ")])]),v(t("div",H,[t("div",null," Weather: "+c(n.value.description),1),t("div",null," Temperature: "+c(o.value.temp),1),t("div",null," Humidity: "+c(o.value.humidity),1),t("div",null," Pressure: "+c(o.value.pressure),1)],512),[[y,p.value===!0]]),v(t("div",M,[m.value?(i(),d("span",q," \u{1F315} ")):(i(),d("span",A," \u{1F31E} "))],512),[[y,p.value===!0]])],64))}},R={__name:"weather",setup(b){return K({title:"Weather app"}),(r,s)=>{const n=g;return i(),V(n,null,{header:w(()=>[W("Weather app")]),body:w(()=>[j(I(E))]),_:1})}}};export{R as default};
