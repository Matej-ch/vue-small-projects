import{_ as B}from"./ComponentContainer.7fd0c4dd.js";import{$ as V,i,P as N,o as r,e as d,f as t,j as p,p as y,F as x,H as b,t as v,v as j,k as F,c as H,w,a as T,l as q,u as A}from"./entry.38e07db5.js";import{u as E}from"./fetch.c05ee4f4.js";import{u as M}from"./composables.85f75fe7.js";const S={class:"flex items-end justify-between mb-5"},U={class:"flex flex-col w-3/6 px-2"},D=t("label",{class:"mb-1"},"From",-1),K=["value"],O={class:"flex flex-col w-3/6 px-2"},R=t("label",{class:"mb-1"},"To",-1),G=["value"],I={class:"flex items-end justify-between mb-5"},L={class:"flex flex-col w-3/6 px-2"},P=t("label",{class:"mb-1"},"Amount",-1),z={__name:"CurrencyConverter",setup(g){const c=V(),o=i(0),n=i(""),l=i(""),m=i(""),_=i({});let f="",h="";N(()=>{f=c.currencyApiKey,h=c.currencyApiBase,$()});function C(){if(isNaN(o.value)){n.value="Is not a number";return}const u=new Headers;u.append("apikey",f);const a={method:"GET",redirect:"follow",headers:u};let e=h.replace("{to}",m.value).replace("{from}",l.value).replace("{amount}",o.value);fetch(e,a).then(s=>s.json()).then(s=>{s.success===!0?n.value=`${o.value} ${l.value} -> ${s.result} ${m.value}`:n.value=`Cannot convert: ${s.message}`}).catch(s=>console.log("error",s))}async function $(){const{data:u}=await E(()=>"https://api.apilayer.com/exchangerates_data/symbols",{onRequest({request:a,options:e}){e.headers=e.headers||{},e.headers.apikey=f}},"$hE2a09dxu0");_.value=u.value.symbols}return(u,a)=>(r(),d(x,null,[t("div",S,[t("div",U,[D,p(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),name:"currency-from"},[(r(!0),d(x,null,b(_.value,(e,s,k)=>(r(),d("option",{value:s},v(e),9,K))),256))],512),[[y,l.value]])]),t("div",O,[R,p(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),name:"currency-to"},[(r(!0),d(x,null,b(_.value,(e,s,k)=>(r(),d("option",{value:s},v(e),9,G))),256))],512),[[y,m.value]])])]),t("div",I,[t("div",L,[P,p(t("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.value=e),step:"0.01",type:"number"},null,512),[[j,o.value]])]),t("div",{class:"flex flex-col w-3/6 px-2"},[t("button",{onClick:C,class:"btn btn-red"}," Convert ")])]),p(t("div",{class:"bg-blue-900 text-white rounded p-4 font-bold"},v(n.value),513),[[F,n.value.length]])],64))}},Y={__name:"currency",setup(g){const c="Currency converter";return M({title:c}),(o,n)=>{const l=B;return r(),H(l,null,{header:w(()=>[T(v(c))]),body:w(()=>[q(A(z))]),_:1})}}};export{Y as default};
