import{i as h,o as t,b as s,e as o,t as w,u as v,j as _,v as y,N as g,O as N,D as x,F as C,H as V,c as k,w as B,f as P,l as S}from"./entry.6d7d4e22.js";import{_ as T}from"./ComponentContainer.cda60fd2.js";import{u as H}from"./composables.9f38f497.js";const K={class:"border bg-white text-slate-900 rounded p-4"},U={class:"font-bold text-xl"},$={key:0},j=["onKeyup"],J={key:1},M={class:"flex flex-row gap-2"},O={key:0},A={key:1},G={key:0,class:"pl-4"},L={key:1,class:"py-2"},D={__name:"Comment",props:{comment:Object,replies:Array,canEdit:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},handleRemove:Function,handlePost:Function},setup(n){const m=n,f=h(!1),r=h(""),a=h(""),l=h(""),e=h(m.comment.text);function u(){f.value=!0}function i(){f.value=!1}function d(){m.handlePost(m.comment,r.value,a.value),r.value="",a.value="",f.value=!1}function b(){l.value=!0}function R(){m.comment.text=e,l.value=!1}return(q,p)=>{const E=D;return t(),s(C,null,[o("div",K,[o("div",U,w(n.comment.name),1),v(l)?(t(),s("div",$,[_(o("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=c=>g(e)?e.value=c:null),class:"border rounded border-slate-400",onKeyup:N(R,["enter"])},null,40,j),[[y,v(e)]])])):(t(),s("div",J,w(v(e)),1)),o("div",M,[o("div",null,[o("button",{onClick:u,class:"btn btn-green"},"Reply")]),n.canEdit?(t(),s("div",O,[v(l)?(t(),s("button",{key:1,onClick:R,class:"btn btn-orange"},"Save")):(t(),s("button",{key:0,onClick:b,class:"btn btn-green"},"Edit"))])):x("",!0),n.canDelete?(t(),s("div",A,[o("button",{onClick:p[1]||(p[1]=c=>n.handleRemove(n.comment)),class:"btn btn-green"},"Delete")])):x("",!0)])]),n.replies.length?(t(),s("div",G,[(t(!0),s(C,null,V(n.replies,(c,F)=>(t(),k(E,{key:F,comment:c,replies:c.replies,"can-edit":!0,"can-delete":!0,"handle-remove":n.handleRemove,"handle-post":n.handlePost},null,8,["comment","replies","handle-remove","handle-post"]))),128))])):x("",!0),v(f)?(t(),s("div",L,[_(o("input",{"onUpdate:modelValue":p[2]||(p[2]=c=>g(r)?r.value=c:null),type:"text",placeholder:"Your name"},null,512),[[y,v(r)]]),_(o("textarea",{"onUpdate:modelValue":p[3]||(p[3]=c=>g(a)?a.value=c:null),placeholder:"comment"},null,512),[[y,v(a)]]),o("div",{class:"flex gap-2"},[o("button",{class:"btn btn-orange",onClick:d}," Post "),o("button",{class:"btn btn-orange",onClick:i},"Cancel")])])):x("",!0)],64)}}},Y={__name:"CommentBox",setup(n){const m=h([{id:l(),name:"Josh",text:"Hello, world",replies:[{name:"Jeff",text:"This is bad",id:l(),replies:[{id:l(),name:"Feff",text:"its pretty good",replies:[]},{id:l(),name:"Cleff",text:"Cloom",replies:[]}]},{id:l(),name:"Clint",text:"Goodbye world",replies:[]}]}]);function f(e){a(m.value,e.id)}function r(e,u,i){!u.length||!i.length||e.replies.push({id:l(),name:u,text:i,replies:[]})}function a(e,u,i=null){for(let d in e)if(e[d].id===u){e[d].replies=[],i!==null&&(i.replies=[...i.replies.filter(b=>b.id!==u)]);return}else a(e[d].replies,u,e[d])}function l(){return Math.random().toString(36).substring(2,9)+Date.now().toString(36)}return(e,u)=>{const i=D;return t(!0),s(C,null,V(m.value,(d,b)=>(t(),k(i,{key:b,comment:d,replies:d.replies,"handle-remove":f,"handle-post":r},null,8,["comment","replies"]))),128)}}},X={__name:"comments",setup(n){return H({title:"Comment box"}),(m,f)=>{const r=Y,a=T;return t(),k(a,null,{header:B(()=>[P("Comment box")]),body:B(()=>[S(r)]),_:1})}}};export{X as default};
