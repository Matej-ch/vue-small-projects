import{_ as g}from"./ComponentContainer.7fd0c4dd.js";import{$ as k,i as n,P as C,o as i,e as d,f as t,j as v,v as B,O as S,k as y,t as l,F as $,c as j,w,a as I,l as K,u as N}from"./entry.38e07db5.js";import{u as V}from"./composables.85f75fe7.js";const W={class:"flex items-end justify-between mb-5"},D={class:"flex flex-col text-center w-3/6 px-2"},T=t("label",{class:"mb-1"},"City",-1),F=["onKeyup"],H={class:"flex flex-col mb-5 font-bold justify-center text-center p-4 w-full"},M={class:"text-center"},P={key:0,class:"text-4xl"},q={key:1,class:"text-4xl"},A={__name:"WeatherApp",setup(b){const o=k(),s=n(""),r=n({}),a=n({}),u=n({}),m=n(!0),p=n(!1);let h="",f="";C(()=>{h=o.apiSecret,f=o.apiBase,localStorage.getItem("city")&&(s.value=localStorage.getItem("city"),_())});function _(){const x=`${f}?q=${s.value}&appid=${h}&units=metric`;fetch(x).then(e=>e.json()).then(e=>{r.value=e==null?void 0:e.weather[0],a.value=e.main,u.value=e.sys;const c=Date.now();c>u.value.sunrise*1e3&&c<u.value.sunset*1e3&&(m.value=!1),p.value=!0,localStorage.setItem("city",s.value)}).catch(e=>console.error(e))}return(x,e)=>(i(),d($,null,[t("div",W,[t("div",D,[T,v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>s.value=c),type:"text",onKeyup:S(_,["enter"])},null,40,F),[[B,s.value]])]),t("div",{class:"flex flex-col text-center w-3/6 px-2"},[t("button",{onClick:_,class:"btn btn-red"}," Check weather ")])]),v(t("div",H,[t("div",null," Weather: "+l(r.value.description),1),t("div",null," Temperature: "+l(a.value.temp),1),t("div",null," Humidity: "+l(a.value.humidity),1),t("div",null," Pressure: "+l(a.value.pressure),1)],512),[[y,p.value===!0]]),v(t("div",M,[m.value?(i(),d("span",P," \u{1F315} ")):(i(),d("span",q," \u{1F31E} "))],512),[[y,p.value===!0]])],64))}},R={__name:"weather",setup(b){const o="Weather app";return V({title:o}),(s,r)=>{const a=g;return i(),j(a,null,{header:w(()=>[I(l(o))]),body:w(()=>[K(N(A))]),_:1})}}};export{R as default};
