import{_ as H}from"./ComponentContainer.f579fdde.js";import{N,i as c,O as V,o as r,b as u,e as t,j as p,p as y,F as f,H as b,t as h,v as $,k as j,c as O,w,f as T,l as q,u as A}from"./entry.fe5dfb17.js";import{u as E}from"./composables.4ec0e794.js";const F={class:"flex items-end justify-between mb-5"},M={class:"flex flex-col w-3/6 px-2"},S=t("label",{class:"mb-1"},"From",-1),U=["value"],D={class:"flex flex-col w-3/6 px-2"},G=t("label",{class:"mb-1"},"To",-1),K=["value"],I={class:"flex items-end justify-between mb-5"},L={class:"flex flex-col w-3/6 px-2"},R=t("label",{class:"mb-1"},"Amount",-1),z={__name:"CurrencyConverter",setup(g){const m=N(),a=c(0),n=c(""),i=c(""),d=c(""),v=c({});let _="",x="";V(()=>{_=m.currencyApiKey,x=m.currencyApiBase,k()});function C(){if(isNaN(a.value)){n.value="Is not a number";return}const l=new Headers;l.append("apikey",_);const s={method:"GET",redirect:"follow",headers:l};let e=x.replace("{to}",d.value).replace("{from}",i.value).replace("{amount}",a.value);fetch(e,s).then(o=>o.json()).then(o=>{o.success===!0?n.value=`${a.value} ${i.value} -> ${o.result} ${d.value}`:n.value=`Cannot convert: ${o.message}`}).catch(o=>console.log("error",o))}function k(){const l=new Headers;l.append("apikey",_),fetch("https://api.apilayer.com/exchangerates_data/symbols",{method:"GET",redirect:"follow",headers:l}).then(e=>e.json()).then(e=>{v.value=e.symbols}).catch(e=>console.log("error",e))}return(l,s)=>(r(),u(f,null,[t("div",F,[t("div",M,[S,p(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),name:"currency-from"},[(r(!0),u(f,null,b(v.value,(e,o,B)=>(r(),u("option",{value:o},h(e),9,U))),256))],512),[[y,i.value]])]),t("div",D,[G,p(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e),name:"currency-to"},[(r(!0),u(f,null,b(v.value,(e,o,B)=>(r(),u("option",{value:o},h(e),9,K))),256))],512),[[y,d.value]])])]),t("div",I,[t("div",L,[R,p(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>a.value=e),step:"0.01",type:"number"},null,512),[[$,a.value]])]),t("div",{class:"flex flex-col w-3/6 px-2"},[t("button",{onClick:C,class:"btn btn-red"}," Convert ")])]),p(t("div",{class:"bg-blue-900 text-white rounded p-4 font-bold"},h(n.value),513),[[j,n.value.length]])],64))}},W={__name:"currency",setup(g){return E({title:"Currency converter"}),(m,a)=>{const n=H;return r(),O(n,null,{header:w(()=>[T("Currency converter")]),body:w(()=>[q(A(z))]),_:1})}}};export{W as default};
