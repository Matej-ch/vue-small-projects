import{y as B,r as c,z as $,o as a,a as u,b as e,w as v,j as x,F as y,A as b,t as f,v as j,e as H,f as A,c as O,u as T}from"./entry-2c87ec4d.mjs";const V=e("div",{class:"component-header"},[e("h2",null,"Currency converter")],-1),q={class:"px-4 py-5"},E={class:"flex flex-col text-white"},F={class:"flex items-end justify-between mb-5"},M={class:"flex flex-col w-3/6 px-2"},N=e("label",{class:"mb-1"},"From",-1),S=["value"],U={class:"flex flex-col w-3/6 px-2"},D=e("label",{class:"mb-1"},"To",-1),G=["value"],K={class:"flex items-end justify-between mb-5"},z={class:"flex flex-col w-3/6 px-2"},I=e("label",{class:"mb-1"},"Amount",-1),L={__name:"CurrencyConverter",setup(w){const p=B(),n=c(0),r=c(""),i=c(""),d=c(""),m=c({});let _="",h="";$(()=>{_=p.currencyApiKey,h=p.currencyApiBase,C()});function g(){if(isNaN(n.value)){r.value="Is not a number";return}const l=new Headers;l.append("apikey",_);const o={method:"GET",redirect:"follow",headers:l};let t=h.replace("{to}",d.value).replace("{from}",i.value).replace("{amount}",n.value);fetch(t,o).then(s=>s.json()).then(s=>{s.success===!0?r.value=`${n.value} ${i.value} -> ${s.result} ${d.value}`:r.value=`Cannot convert: ${s.message}`}).catch(s=>console.log("error",s))}function C(){const l=new Headers;l.append("apikey",_),fetch("https://api.apilayer.com/exchangerates_data/symbols",{method:"GET",redirect:"follow",headers:l}).then(t=>t.json()).then(t=>{m.value=t.symbols}).catch(t=>console.log("error",t))}return(l,o)=>(a(),u("div",null,[V,e("div",q,[e("div",E,[e("div",F,[e("div",M,[N,v(e("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>i.value=t),name:"currency-from"},[(a(!0),u(y,null,b(m.value,(t,s,k)=>(a(),u("option",{value:s},f(t),9,S))),256))],512),[[x,i.value]])]),e("div",U,[D,v(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>d.value=t),name:"currency-to"},[(a(!0),u(y,null,b(m.value,(t,s,k)=>(a(),u("option",{value:s},f(t),9,G))),256))],512),[[x,d.value]])])]),e("div",K,[e("div",z,[I,v(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>n.value=t),step:"0.01",type:"number"},null,512),[[j,n.value]])]),e("div",{class:"flex flex-col w-3/6 px-2"},[e("button",{onClick:g,class:"btn btn-red"}," Convert ")])]),v(e("div",{class:"bg-blue-900 text-white rounded p-4 font-bold"},f(r.value),513),[[H,r.value.length]])])])]))}},J={__name:"currency",setup(w){return A({title:"Currency converter"}),(p,n)=>(a(),O(T(L)))}};export{J as default};
